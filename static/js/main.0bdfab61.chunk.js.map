{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","img/default.jpg","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","services-api/ImagesAPI.js","components/Button/Button.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","SearchBar","state","query","handleQueryChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","className","s","Searchbar","this","SearchForm","type","onClick","SearchFormButton","SearchFormButtonLabel","name","onChange","SearchFormInput","autoComplete","autoFocus","placeholder","Component","ImageGallaryItem","alt","prevImg","largeImg","ImageGalleryItem","ImageGalleryItemImage","src","defaultImg","ImageGallary","images","ImageGallery","map","image","tags","webformatURL","largeImageURL","id","API_KEY","BASE_URL","ImagesApi","ImagesFetch","searchQuery","page","fetch","then","response","json","data","hits","Button","onClickButton","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","children","App","loading","modalImage","modalAlt","handleSearchFormSubmit","searchImages","setTimeout","results","catch","finally","loadMoreImages","prevImages","closeModal","openModal","largeImage","scrollTo","top","documentElement","scrollHeight","behavior","color","height","width","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0bdfab61.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1L4IV\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2dMfj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__p_zUw\",\"Modal\":\"Modal_Modal__2bfW0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1vUDT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3ggwQ\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { FaSearch } from 'react-icons/fa';\nimport s from './Searchbar.module.css';\n\nclass SearchBar extends Component {\n  state = {\n    query: '',\n  };\n\n  handleQueryChange = event => {\n    this.setState({ query: event.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    if (this.state.query.trim() === '') {\n      toast.error('Enter your request!');\n      return;\n    }\n    this.props.onSubmit(this.state.query);\n    this.setState({ query: '' });\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form onSubmit={this.handleSubmit} className={s.SearchForm}>\n          <button type=\"submit\" onClick={this.props.onClick} className={s.SearchFormButton}>\n            <FaSearch />\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            name=\"query\"\n            value={this.state.query}\n            onChange={this.handleQueryChange}\n            className={s.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchBar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default SearchBar;\n","export default __webpack_public_path__ + \"static/media/default.2e01288c.jpg\";","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport defaultImg from '../../img/default.jpg';\nimport s from './ImageGalleryItem.module.css';\n\nconst ImageGallaryItem = ({ alt, prevImg, largeImg, onClick }) => {\n  return (\n    <li className={s.ImageGalleryItem}>\n      <img\n        className={s.ImageGalleryItemImage}\n        src={prevImg ?? defaultImg}\n        alt={alt}\n        onClick={() => onClick(largeImg, alt)}\n      />\n    </li>\n  );\n};\n\nImageGallaryItem.propTypes = {\n  alt: PropTypes.string,\n  prevImg: PropTypes.string,\n  largeImg: PropTypes.string,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGallaryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ImageGallaryItem from '../ImageGalleryItem';\nimport s from './ImageGallery.module.css';\n\nfunction ImageGallary({ images, onClick }) {\n  return (\n    <ul className={s.ImageGallery}>\n      {images.map(image => (\n        <ImageGallaryItem\n          key={image.id}\n          alt={image.tags}\n          prevImg={image.webformatURL}\n          largeImg={image.largeImageURL}\n          onClick={onClick}\n        />\n      ))}\n    </ul>\n  );\n}\n\nImageGallary.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      tags: PropTypes.string,\n      webformatURL: PropTypes.string,\n      largeImageURL: PropTypes.string,\n    }),\n  ).isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGallary;\n","const API_KEY = `23556027-7518a6338651e19ee58531f7f`;\nconst BASE_URL = `https://pixabay.com/api/`;\nconst perPage = 12;\n\nfunction ImagesFetch(searchQuery, page = 1) {\n  return fetch(\n      `${BASE_URL}?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${perPage}`,\n    )\n      .then(response =>  response.json()).then(data => data.hits)\n}\n\nconst ImagesApi = {\n  ImagesFetch,\n};\n\nexport default ImagesApi;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport s from './Button.module.css';\n\nfunction Button({ onClickButton }) {\n  return (\n    <button type=\"submit\" onClick={onClickButton} className={s.Button}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func,\n};\n\nexport default Button;\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\n        <div className={s.Modal}>{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nimport SearchBar from './components/Searchbar';\nimport ImageGallary from './components/ImageGallery';\nimport ImagesApi from './services-api/ImagesAPI';\nimport Button from './components/Button';\nimport Modal from './components/Modal';\n\nclass App extends Component {\n  state = {\n    searchQuery: '',\n    images: [],\n    page: 1,\n    loading: false,\n    error: null,\n\n    modalImage: null,\n    modalAlt: null,\n  };\n\n  handleSearchFormSubmit = searchQuery => {\n    this.setState({ searchQuery });\n  };\n\n  searchImages = e => {\n    this.setState({ loading: true, images: [], page: 1 });\n    setTimeout(() => {\n      ImagesApi.ImagesFetch(this.state.searchQuery, this.state.page)\n        .then(results =>\n          this.setState({ images: results, page: this.state.page + 1 }),\n        )\n        .catch(error => this.setState({ error }))\n        .finally(this.setState({ loading: false }));\n    }, 3000);\n  };\n\n  loadMoreImages = e => {\n    const { page, searchQuery, images } = this.state;\n    const prevImages = images;\n    this.setState({ page: page + 1 });\n\n    ImagesApi.ImagesFetch(searchQuery, page)\n      .then(results => this.setState({ images: [...prevImages, ...results] }))\n      .catch(error => this.setState({ error }))\n      .finally(this.setState({ loading: false }));\n  };\n\n  componentDidUpdate() {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  closeModal = e => {\n    this.setState({ modalImage: null });\n  };\n\n  openModal = (largeImage, alt) => {\n    this.setState({ modalImage: largeImage, modalAlt: alt });\n  };\n\n  render() {\n    const { images, loading, error, modalImage, modalAlt } = this.state;\n\n    return (\n      <>\n        <div>\n          <SearchBar\n            onSubmit={this.handleSearchFormSubmit}\n            onClick={this.searchImages}\n          />\n          {error && <h1>Ошибка на сервере</h1>}\n          {loading && (\n            <Loader type=\"Oval\" color=\"#3f51b5\" height={80} width={80} />\n          )}\n          {images.length > 0 && (\n            <ImageGallary images={images} onClick={this.openModal} />\n          )}\n          {images.length > 11 && !loading && (\n            <Button onClickButton={this.loadMoreImages} />\n          )}\n          {modalImage && (\n            <Modal onClose={this.closeModal}>\n              <img src={modalImage} alt={modalAlt} />\n            </Modal>\n          )}\n          <ToastContainer />\n        </div>\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1YcS3\",\"SearchForm\":\"Searchbar_SearchForm__3o8wz\",\"SearchFormButton\":\"Searchbar_SearchFormButton__20O6t\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3tjxd\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3IuUf\"};"],"sourceRoot":""}